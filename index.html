<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Diario Renovable - Noticias con Moderación IA</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="site-header">
    <div class="logo">Diario <span>Renovable</span></div>
    <nav class="main-nav">
      <a href="#">Inicio</a>
      <a href="#">Nacional</a>
      <a href="#">Internacional</a>
      <a href="#">Tecnología</a>
      <a href="#">Medio Ambiente</a>
    </nav>
  </header>

  <main class="container">
    <article class="noticia">
      <h1>Avances en Energías Renovables Transforman el Futuro Energético</h1>
      <p class="meta">Publicado el 23 de mayo de 2025 | Por Redacción Diario Renovable</p>
      <img src="https://source.unsplash.com/featured/?solar,wind" alt="Energías renovables" class="img-principal">
      <p>
        Las energías renovables continúan creciendo en todo el mundo, reduciendo la dependencia de combustibles fósiles y ayudando a combatir el cambio climático. Desde paneles solares hasta turbinas eólicas, la innovación está acelerando la transición energética global.
      </p>
      <p>
        Expertos aseguran que en la próxima década, la mayoría de países podría cubrir más del 50% de su demanda eléctrica con fuentes limpias. Gobiernos, empresas y ciudadanos están apostando por soluciones sostenibles.
      </p>
    </article>

    <section class="comentarios">
      <h2>Comentarios</h2>
      <form id="formComentario" novalidate>
        <textarea id="inputComentario" rows="4" placeholder="Escribe tu comentario aquí..."></textarea>
        <p id="mensajeError" class="error-message"></p>
        <button type="submit">Enviar Comentario</button>
      </form>
      <div id="listaComentarios" class="lista-comentarios"></div>
    </section>
  </main>

  <footer class="site-footer">
    <p>&copy; 2025 Diario Renovable. Todos los derechos reservados.</p>
  </footer>

  <script>
    async function analizarComentarioIA(texto) {
      // Simulación de IA con promesa asíncrona (puede conectarse con API real)
      return new Promise(resolve => {
        const palabrasOfensivas = ["idiota", "tonto", "feo", "estúpido", "burro", "imbécil", "basura"];
        const contiene = palabrasOfensivas.some(p => texto.toLowerCase().includes(p));
        setTimeout(() => resolve(!contiene), 300); // Simula respuesta de IA
      });
    }

    document.getElementById("formComentario").addEventListener("submit", async function (e) {
      e.preventDefault();
      const input = document.getElementById("inputComentario");
      const mensajeError = document.getElementById("mensajeError");
      const listaComentarios = document.getElementById("listaComentarios");

      const comentario = input.value.trim();

      if (comentario === "") {
        mensajeError.textContent = "El comentario no puede estar vacío.";
        return;
      }

      const esAprobado = await analizarComentarioIA(comentario);

      const divComentario = document.createElement("div");
      divComentario.classList.add("comentario");
      divComentario.textContent = comentario;
      divComentario.style.color = esAprobado ? "black" : "red";

      listaComentarios.appendChild(divComentario);

      input.value = "";
      mensajeError.textContent = "";
    });
  </script>
</body>
</html>
